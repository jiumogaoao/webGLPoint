<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
		body {
			margin: 0px;
			overflow: hidden;
			-webkit-transform:translate3d(0,0,0);
		}
		#message{
			width:100%;
			font-size:15px;
			color:#fff;
			position:absolute;
			top:0px;
			left:0px;
			z-index:9999999;
			text-align:center
			}
		</style>
	</head>
	<body ontouchstart="">
		<script type="text/javascript" src="js/zepto/zepto.js"></script>
        <script type="text/javascript" src="js/zepto/detect.js"></script>
        <script type="text/javascript" src="js/zepto/event.js"></script>
        <script type="text/javascript" src="js/zepto/ajax.js"></script>
        <script type="text/javascript" src="js/zepto/form.js"></script>
        <script type="text/javascript" src="js/zepto/fx.js"></script>
        <script type="text/javascript" src="js/zepto/fx_methods.js"></script>
        <script type="text/javascript" src="js/zepto/data.js"></script>
        <script type="text/javascript" src="js/zepto/assets.js"></script>
        <script type="text/javascript" src="js/zepto/selector.js"></script>
        <script type="text/javascript" src="js/zepto/zTouch.js"></script>
		<script src="js/three.min.js"></script>
		<script src="js/CanvasRenderer.js"></script>
		<script src="js/Projector.js"></script>
		<script src="js/app.js"></script>
        <script>

        </script>
        <div id="container"></div>
        <div id="message">请点击</div>
		<script>


			/*空间贴图,热区*/	
			var textureGroup = {
					"#255#255#255" : {
						texture : [/*[展示层,id通道层],px右,nx左,py上,ny下,pz前,nz后*/
							{"px":"texture/kj01/px.png","nx":"texture/kj01/nx.png","py":"texture/kj01/py.png","ny":"texture/kj01/ny.png","pz":"texture/kj01/pz.png","nz":"texture/kj01/nz.png"},
							{"px":"texture/kj01/pxa.gif","nx":"texture/kj01/nxa.gif","py":"texture/kj01/pya.gif","ny":"texture/kj01/nya.gif","pz":"texture/kj01/pza.gif","nz":"texture/kj01/nza.gif"}
						],
						data : {}/*返回后台的数据*/
					},
                    "#255#0#0" : {
                        texture : [/*[展示层,id通道层],px右,nx左,py上,ny下,pz前,nz后*/
                            {"px":"texture/skybox/px.gif","nx":"texture/skybox/nx.gif","py":"texture/skybox/py.gif","ny":"texture/skybox/ny.gif","pz":"texture/skybox/pz.gif","nz":"texture/skybox/nz.gif"},
                            {"px":"texture/skybox/px.gif","nx":"texture/skybox/nx.gif","py":"texture/skybox/py.gif","ny":"texture/skybox/ny.gif","pz":"texture/skybox/pz.gif","nz":"texture/skybox/nz.gif"}
                        ],
                        data : {}/*返回后台的数据*/
                    }
				};
            /*描述,标签*/
			var descriptionGroup = {
					"#255#255#255" : {
						description : "描述",/*出现的标签*/
						data : {}/*返回后台的数据*/
					}
				};

				var goodList=[
						{point:{x: -200.56300883256966, y: -76.66965565818798, z: 420.1404880117886},data:{}},
						{point:{x: 81.63459390029882, y: -126.40033552924488, z: 443.30080686911344},data:{}},
						{point:{x: -370.660394312097, y: -160.67730064703366, z: -254.43001454289342},data:{}},
						{point:{x: -169.90934411743535, y: -11.92037043932796, z: -438.1573007551731},data:{}},
						{point:{x: 60.80377597745132, y: -196.01679968906228, z: -423.9461366647258},data:{}},
						{point:{x: 91.13270078593774, y: 93.44576436643337, z: -451.2550343463956},data:{}},
						{point:{x: 376.0193430078179, y: 48.8449358029046, z: -285.71227085539044},data:{}},
						{point:{x: 25.936856483965812, y: 144.18211175559406, z: 443.62403075977363},data:{}}
					]
				var doorList=[{point:{x: 454.87221682494066, y: -94.10262148778672, z: 48.71421530133978},data:{}}]	

				var player = new APP.Player();
				
				function appReload(color){
					player.reload(color.texture[0]);
					player.setCannel(color.texture[1]);
					player.setGood(goodList);
					player.setDoor(doorList);
					}
				
				player.chooseColor=function(color){
				$("#message").html(color)
					if(textureGroup[color]){
						$("#container").empty();
						appReload(textureGroup[color])
						player.load();
				player.setSize( window.innerWidth, window.innerHeight );
						}
					}
				player.chooseColor("#255#255#255")
				
				player.play();

				window.addEventListener( 'resize', function () {
					player.setSize( window.innerWidth, window.innerHeight );
				} );

		

		</script>

	</body>
</html>